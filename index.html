<!DOCTYPE html>
<html lang="en">
<head>
  <!-- META INFO -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AM Rasel's Official Radio</title>
  <meta name="description" content="Tune into AM Rasel's Official Radio â€“ Where the vibes never stop!" />
  <meta name="theme-color" content="#0a0a23" />
  <!-- FAVICON FOR BROWSER TAB -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <!-- APP ICONS FOR ANDROID / WINDOWS -->
  <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="/icon-512.png" />
  <!-- APP ICONS FOR iOS (IPHONE / IPAD) -->
  <link rel="apple-touch-icon" sizes="180x180" href="/icon-192.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="AM Radio" />
  <!-- TWITTER CARD SUPPORT -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="AM Rasel's Official Radio" />
  <meta name="twitter:description" content="Tune into the beat of your vibe! ðŸŽ§" />
  <meta name="twitter:image" content="https://amraselofficial.github.io/radio/og-image.png" />
  <!-- MANIFEST FOR WEB APP INSTALLATION -->
  <link rel="manifest" href="/manifest.json" />
  <link rel="stylesheet" href="style.css">
  <!-- SEO Meta Tags -->
  <meta name="description" content="Live 24/7 radio streaming. Listen to MP3 audio from anywhere online. No ads, just music.">
  <meta name="keywords" content="online radio, mp3 streaming, GitHub radio, Rasel radio, AMRaselOfficial, TV, Abdul, Momin, Rasel, Abdul Momin Rasel, AMRasel, AM, Official, RaselEdit, music server, render radio">
  <meta name="author" content="Rasel">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="Rasel's Online Radio" />
  <meta property="og:description" content="Listen to free live 24/7 MP3 radio streaming online." />
  <meta name="google-site-verification" content="jArhpaE5w4mJPIqyQfbHQMN4VLcuBOnDeXnAIj0-WM8" />
  <meta property="og:url" content="https://amraselofficial.github.io/radio/" />
  <meta property="og:type" content="website" />
  </head>
<body>
  <canvas id="background-canvas"></canvas>
  <button id="theme-toggle" class="theme-btn">ðŸŒ™ Dark</button>
  <div class="chat-container">
    <h1>Online ðŸŸ¢</h1>
    <div class="audio-player">
      <audio controls autoplay>
        <source src="https://radio-1jz4.onrender.com/live" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
    </div>
    <div id="notification-box">
      <center><h2>Admin Message</h2></center>
      <div id="notifications"></div>
    </div>
    <div id="chat-box"><!-- Messages will appear here --></div>
	<div class="input-container">
		<input type="text" id="message-input" placeholder="Write a message..." />
		<button id="send-button" onclick="sendMessage()">Send</button>
	</div>
  </div>
  <!-- Firebase and app logic -->
  <script type="module" src="app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAn8kADK2SbKClaEZZ1QVmw8ja5jI6s16A",
      authDomain: "livechat-amraselofficial.firebaseapp.com",
      databaseURL: "https://livechat-amraselofficial-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "livechat-amraselofficial",
      storageBucket: "livechat-amraselofficial.appspot.com",
      messagingSenderId: "271740919161",
      appId: "1:271740919161:web:189b1f0857eb91fdaa23a8",
      measurementId: "G-TWEER2R26W"
    };
  
    // âœ… Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const messagesRef = db.ref("messages");
    
    // âœ… Load only last 300 messages
    messagesRef.limitToLast(300).on("child_added", (snapshot) => {
    const data = snapshot.val();
    const messageElement = document.createElement("div");
    messageElement.classList.add("chat-message");
    
    messageElement.innerHTML = `
    <strong>${data.username}:</strong> ${data.message}
    `;
    
    document.getElementById("chat-box").appendChild(messageElement);
    
      // Auto-scroll
      const chatBox = document.getElementById("chat-box");
      chatBox.scrollTop = chatBox.scrollHeight;
    });
  
    // âœ… Send message function
    function sendMessage() {
      const input = document.getElementById("message-input");
      const message = input.value.trim();
      if (!message) return;
  
      let username = localStorage.getItem("username");
      if (!username) {
        username = prompt("What's your name?");
        localStorage.setItem("username", username);
      }
      messagesRef.push({ username, message});
      input.value = "";
    }
  </script>
  <!-- Dark Theme JS-->
  <script>
  const themeBtn = document.getElementById('theme-toggle');
  
  // Load saved theme
  if (localStorage.getItem('theme') === 'dark') {
  document.body.classList.add('dark');
  themeBtn.textContent = 'â˜€ Light';
  }
  
  themeBtn.addEventListener('click', () => {
  document.body.classList.toggle('dark');
  
  if (document.body.classList.contains('dark')) {
  themeBtn.textContent = 'â˜€ Light';
  localStorage.setItem('theme', 'dark');
  } else {
  themeBtn.textContent = 'ðŸŒ™ Dark';
  localStorage.setItem('theme', 'light');
  }
  });
  </script>
	<script type="text/javascript">
const canvas = document.getElementById("background-canvas");
const ctx = canvas.getContext("2d");

let particles = [];
const colors = ["#00ffe5", "#1adb54", "#ff0077", "#ffaa00", "#0066ff"];

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

class Particle {
  constructor() {
    this.reset();
  }
  reset() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height;
    this.size = Math.random() * 4 + 2;
    this.life = Math.random() * 200 + 100;
    this.remainingLife = this.life;
    this.color = colors[Math.floor(Math.random() * colors.length)];
    this.vx = (Math.random() - 0.5) * 1.0;
    this.vy = (Math.random() - 0.5) * 1.0;
  }
  update() {
    this.x += this.vx;
    this.y += this.vy;
    this.remainingLife--;
    if (this.remainingLife <= 0) this.reset();
  }
  draw() {
    const lifeRatio = this.remainingLife / this.life;
    let alpha = 1;
    if (lifeRatio > 0.8) alpha = 1 - (lifeRatio - 0.8) * 5; // fade in
    else if (lifeRatio < 0.2) alpha = lifeRatio * 5; // fade out

    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fillStyle = this.hexToRgba(this.color, alpha);
    ctx.shadowColor = this.color;
    ctx.shadowBlur = 20 * alpha;
    ctx.fill();
    ctx.shadowBlur = 0;
  }
  hexToRgba(hex, alpha) {
    const bigint = parseInt(hex.slice(1), 16);
    const r = (bigint >> 16) & 255;
    const g = (bigint >> 8) & 255;
    const b = bigint & 255;
    return `rgba(${r},${g},${b},${alpha})`;
  }
}

function createParticles(num) {
  for (let i = 0; i < num; i++) particles.push(new Particle());
}
createParticles(80); // more stars for full screen

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => { p.update(); p.draw(); });
  requestAnimationFrame(animate);
}
animate();
	</script>
</body>
</html>
